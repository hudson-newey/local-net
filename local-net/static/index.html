<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Net</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/tailwindcss@2.0.1/dist/tailwind-dark.min.css"
    />
  </head>

  <body>
    <nav>
      <div class="flex items-center justify-between flex-wrap bg-gray-900 p-6">
        <div class="flex items-center flex-shrink-0 text-gray-50 mr-6">
          <span class="font-semibold text-xl tracking-tight">Local Net</span>
          <a class="text-xl ml-3 underline" href="/admin">Admin Console</a>
        </div>
      </div>
    </nav>

    <div class="m-auto p-5 w-1/2">
      <h1 class="text-4xl">Local Net Search</h1>

      <div class="m-5">
        <div>
          <input id="input-box" class="p-2 text-xl text-gray-900 border rounded" type="url" autofocus />
          <button id="go-button" class="p-2 px-4 text-gray-50 text-xl bg-blue-500 hover:bg-blue-600 rounded">Go</button>
        </div>
      </div>
    </div>
  </body>

  <script type="text/javascript">
    const inputBox = document.getElementById("input-box");
    const goButton = document.getElementById("go-button");
    const baseUrl = "http://localhost:8080/?interceptor-url=";

    function submitQuery() {
      const url = inputBox.value;
      const encodedUrl = url;
      const createdUrl = baseUrl + encodedUrl;

      window.location.href = createdUrl;
    }

    inputBox.addEventListener("keyup", function (event) {
      if (event.keyCode === 13) {
        event.preventDefault();
        submitQuery();
      }
    });

    goButton.addEventListener("click", function (event) {
      event.preventDefault();
      submitQuery();
    });
  </script>
</html>
